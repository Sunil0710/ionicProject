{"version":3,"sources":["../../src/pages/edit-item/edit-item.module.ts","../../src/pages/edit-item/edit-item.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACL;AAU3C;IAAA;IAAiC,CAAC;IAArB,kBAAkB;QAR9B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,gEAAY;aACb;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,gEAAY,CAAC;aACvC;SACF,CAAC;OACW,kBAAkB,CAAG;IAAD,yBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZW;AAC6F;AAG9C;AAC5B;AACO;AAOpE;IASE,sBACS,OAAsB,EACtB,SAAoB,EACnB,MAAc,EACd,SAA0B,EAC1B,QAA6B,EAC9B,WAA8B;QAL9B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAiB;QAC1B,aAAQ,GAAR,QAAQ,CAAqB;QAC9B,gBAAW,GAAX,WAAW,CAAmB;IAGvC,CAAC;IAED,sCAAe,GAAf;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAED,qCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;IAC1C,CAAC;IAED,8BAA8B;IAC9B,8BAAO,GAAP,UAAQ,OAAe;QACrB,EAAE,EAAC,OAAO,CAAC,EAAC;YACV,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CACxB;gBACE,KAAK,EAAE,OAAO;gBACd,SAAS,EAAE,KAAK;aACjB,CACF,CAAC;QACJ,CAAC;IACH,CAAC;IAED,6DAA6D;IAC7D,wCAAiB,GAAjB,UAAkB,OAAO;QACvB,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,YAAY,KAAK,SAAS,CAAC,EAAC;YACvC,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QAC9B,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CACzB;YACE,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,SAAS,EAAE,IAAI;SAChB,CACF,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1E,CAAC;IAED,4DAA4D;IAC5D,yCAAkB,GAAlB,UAAmB,OAAO;QAExB,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,SAAS,CAAC,EAAC;YACtC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QAC7B,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CACxB;YACE,KAAK,EAAE,OAAO,CAAC,KAAK;YACpB,SAAS,EAAE,KAAK;SACjB,CACF,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5E,CAAC;IAED,+BAA+B;IAC/B,uCAAgB,GAAhB,UAAiB,OAAO;QACtB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC,CAAC;IACzE,CAAC;IAED,gCAAgC;IAChC,wCAAiB,GAAjB,UAAkB,OAAO;QACvB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC,CAAC;IAC3E,CAAC;IAED,eAAe;IACf,kCAAW,GAAX,UAAY,OAAO;QACjB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,2EAAY,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;IACvE,CAAC;IAED,eAAe;IACf,iBAAiB;IACjB,0CAA0C;IAC1C,iDAAiD;IACjD,0BAA0B;IAC1B,qBAAqB;IACrB,QAAQ;IAER,8BAA8B;IAC9B,wCAAwC;IACxC,QAAQ;IAER,qBAAqB;IACrB,IAAI;IAEJ,cAAc;IACd,iBAAiB;IACjB,0CAA0C;IAC1C,gDAAgD;IAChD,2BAA2B;IAC3B,qBAAqB;IACrB,QAAQ;IAER,8BAA8B;IAC9B,wCAAwC;IACxC,QAAQ;IAER,qBAAqB;IACrB,IAAI;IAEJ,qCAAc,GAAd,UAAe,OAAO,EAAE,GAAiB;QAAzC,iBAUC;QATC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,qFAAgB,CAAC,CAAC;QACxD,OAAO,CAAC,OAAO,CAAC;YACd,EAAE,EAAE,OAAO;SACZ,CAAC,CAAC;QAEH,OAAO,CAAC,YAAY,CAAC,qBAAW;YAC9B,KAAI,CAAC,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,GAAG,CAAC,KAAK,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAED,cAAc;IACd,kCAAW,GAAX,UAAY,KAAK,EAAE,GAAiB;QAApC,iBAyBC;QAxBC,IAAM,OAAO,GAAkB;YAC7B,OAAO,EAAE,EAAE;YACX,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;YACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;YAC3C,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;YACxC,gBAAgB,EAAE,KAAK;SACxB;QAED,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,SAAS;YAE7C,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACvB,kGAAkG;YAClG,KAAI,CAAC,WAAW,GAAG,2EAAY,CAAC,SAAS,CAAC,CAAC;YAE3C,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;YAE9B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;YACnC,KAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACtB,GAAG,CAAC,KAAK,EAAE,CAAC;QACd,CAAC,EAAE,UAAC,GAAG;YACL,GAAG,CAAC,KAAK,EAAE,CAAC;YACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAEnB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,cAAc;IACd,kCAAW,GAAX,UAAY,KAAK;QACf,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC;IAED,qBAAqB;IACrB,+BAAQ,GAAR,UAAS,IAAU;QAAnB,iBAIC;QAHC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;YAChC,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC;IAzKU,YAAY;QAJxB,wEAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;WACG;SAC9B,CAAC;6EAW+B;YACX,qEAAS;YACX,sEAAM;YACH,0GAAe;YAChB,0EAAmB;YACjB,SAAiB;OAf5B,YAAY,CA2KxB;IAAD,CAAC;AAAA;SA3KY,YAAY,gB","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditItemPage } from './edit-item';\n\n@NgModule({\n  declarations: [\n    EditItemPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditItemPage),\n  ],\n})\nexport class EditItemPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-item/edit-item.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, reorderArray, FabContainer, normalizeURL, PopoverController } from 'ionic-angular';\n\nimport { Item } from '../../models/item/item.model';\nimport { ShoppingListService } from '../../services/shopping-list/shopping-list-service';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { PopoverComponent } from '../../components/popover/popover';\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-item',\n  templateUrl: 'edit-item.html',\n})\nexport class EditItemPage {\n\n  // item: Item;\n  item: Item;\n\n  public photos: any;\n  public base64Image: any;\n\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private camera: Camera,\n    private toastCtrl: ToastController,\n    private shopping: ShoppingListService,\n    public popoverCtrl: PopoverController\n  ) {\n    \n  }\n\n  ionViewWillLoad() {\n    this.item = this.navParams.get('item');\n  }\n\n  ionViewDidLoad(){\n    console.log(this.navParams.get('item'));\n  }\n\n  // adding items to listedItems\n  addItem(newItem: string){\n    if(newItem){\n      this.item.listedItems.push(\n        {\n          title: newItem,\n          checkItem: false\n        }\n      );\n    }\n  }\n\n  // remove items from listedItems and add them to strikedItems\n  updateListedItems(newItem){\n    if(this.item.strikedItems === undefined){\n      this.item.strikedItems = [];\n    }\n\n    this.item.strikedItems.push(\n      {\n        title: newItem.title,\n        checkItem: true\n      }\n    );\n\n    this.item.listedItems.splice(this.item.listedItems.indexOf(newItem), 1);\n  }\n\n  //remove items from strikedItems and add them to listedItems\n  updateStrikedItems(newItem){\n\n    if(this.item.listedItems === undefined){\n      this.item.listedItems = [];\n    }\n\n    this.item.listedItems.push(\n      {\n        title: newItem.title,\n        checkItem: false\n      }\n    );\n\n    this.item.strikedItems.splice(this.item.strikedItems.indexOf(newItem), 1);\n  }\n\n  //delete items from listedItems\n  deleteListedItem(newItem){\n    this.item.listedItems.splice(this.item.listedItems.indexOf(newItem),1);\n  }\n\n  //delete items from strikedItems\n  deleteStrikedItem(newItem){\n    this.item.strikedItems.splice(this.item.strikedItems.indexOf(newItem),1);\n  }\n\n  //reorder items\n  reorderItem(indexes) {\n    console.log(indexes);\n    this.item.listedItems = reorderArray(this.item.listedItems, indexes);\n  }\n\n  //archive toast\n  // arhiveToast(){\n  //   const toast = this.toastCtrl.create({\n  //     message: 'note was archived successfully',\n  //     position: 'bottom',\n  //     duration: 1000\n  //   });\n\n  //   toast.onDidDismiss(()=> {\n  //     this.navCtrl.setRoot('HomePage');\n  //   });\n\n  //   toast.present();\n  // }\n\n  //delete toast\n  // deleteToast(){\n  //   const toast = this.toastCtrl.create({\n  //     message: 'note was deleted successfully',\n  //     position : 'bottom',\n  //     duration: 1000\n  //   });\n\n  //   toast.onDidDismiss(()=> {\n  //     this.navCtrl.setRoot('HomePage');\n  //   });\n\n  //   toast.present();\n  // }\n\n  presentPopover(myEvent, fab: FabContainer) {\n    let popover = this.popoverCtrl.create(PopoverComponent);\n    popover.present({\n      ev: myEvent\n    });\n\n    popover.onDidDismiss(popoverData => {\n      this.item.label = popoverData.value;\n      fab.close();\n    });\n  }\n\n  //using camera\n  takePicture(event, fab: FabContainer){\n    const options: CameraOptions = {\n      quality: 50,\n      destinationType: this.camera.DestinationType.FILE_URI,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      saveToPhotoAlbum: false\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n\n      console.log(imageData);\n      //this.base64Image = this.sanitizer.bypassSecurityTrustUrl(\"data:image/jpeg;base64,\" + imageData);\n      this.base64Image = normalizeURL(imageData);\n\n      console.log(this.base64Image);\n\n      this.photos.push(this.base64Image);\n      this.photos.reverse();\n      fab.close();\n    }, (err) => {\n      fab.close();\n      console.log(err);\n      \n    });\n  }\n\n  //delete photo\n  deletePhoto(index){\n    this.photos.splice(index, 1);\n  }\n\n  //save changes to DB \n  saveItem(item: Item){\n    this.shopping.editItem(item).then(() => {\n      this.navCtrl.setRoot('HomePage');\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-item/edit-item.ts"],"sourceRoot":""}