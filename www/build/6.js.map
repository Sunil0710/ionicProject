{"version":3,"sources":["../../src/pages/trash/trash.module.ts","../../src/pages/trash/trash.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AAUpC;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAR3B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,yDAAS;aACV;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;aACpC;SACF,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZc;AAC2B;AACoB;AAEpD;AAE6B;AAQlE;IAIE,mBACS,OAAsB,EACrB,QAA6B,EAC7B,KAAmB,EACpB,eAAsC;QAHtC,YAAO,GAAP,OAAO,CAAe;QACrB,aAAQ,GAAR,QAAQ,CAAqB;QAC7B,UAAK,GAAL,KAAK,CAAc;QACpB,oBAAe,GAAf,eAAe,CAAuB;QAG7C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ;aAC/B,aAAa,EAAE;aACf,eAAe,EAAE;aACjB,IAAI,CACH,2DAAG,CAAC,iBAAO;YACT,cAAO,CAAC,GAAG,CAAC,WAAC,IAAI,mBAEb,GAAG,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,IAAK,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,EAEzC,EAJgB,CAIhB,CAAC;QAJF,CAIE,CAAC,CACN,CAAC;IACN,CAAC;IAED,cAAc;IACd,+BAAW,GAAX,UAAY,IAAI;QAAhB,iBAqCC;QApCC,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC5C,KAAK,EAAE,MAAM;YACb,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;wBAC3C,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;4BAClC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAI,IAAI,CAAC,KAAK,eAAY,CAAC,CAAC;4BAC3C,mCAAmC;wBACrC,CAAC,CAAC,CAAC;oBACL,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,SAAS;oBACf,OAAO,EAAE;wBACP,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;wBACvB,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;4BAChC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;4BACzB,KAAI,CAAC,KAAK,CAAC,IAAI,CAAI,IAAI,CAAC,KAAK,iBAAc,CAAC,CAAC;4BAC7C,sCAAsC;wBACxC,CAAC,CAAC;oBACJ,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAChC,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QAEH,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC,8BAA8B;IACvD,CAAC;IA9DU,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,YAAY;WACG;SAC1B,CAAC;uHAM+B;YACX,oFAAmB;YACtB,4EAAY;YACH,MAAqB;OARpC,SAAS,CA+DrB;IAAD,CAAC;AAAA;SA/DY,SAAS,e","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TrashPage } from './trash';\n\n@NgModule({\n  declarations: [\n    TrashPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TrashPage),\n  ],\n})\nexport class TrashPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trash/trash.module.ts","import { Component } from '@angular/core';\nimport { NavController, IonicPage, ActionSheetController } from 'ionic-angular';\nimport { ShoppingListService } from '../../services/shopping-list/shopping-list-service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Item } from '../../models/item/item.model';\nimport { ToastService } from '../../services/toast/toast-service';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-trash',\n  templateUrl: 'trash.html',\n})\nexport class TrashPage {\n\n  shoppingList$: Observable<Item[]>;\n\n  constructor(\n    public navCtrl: NavController,\n    private shopping: ShoppingListService,\n    private toast: ToastService,\n    public actionSheetCtrl: ActionSheetController\n  ) {\n\n    this.shoppingList$ = this.shopping\n      .getTrashItems()\n      .snapshotChanges()\n      .pipe(\n        map(changes =>\n          changes.map(c => (\n            {\n              key: c.payload.key, ...c.payload.val()\n            }\n          )))\n      );\n  }\n\n  //more options\n  moreOptions(item) {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: 'More',\n      buttons: [\n        {\n          text: 'Delete',\n          role: 'destructive', // will always sort to be on the top\n          handler: () => {\n            console.log('trashed item: ' + item.title);\n            this.shopping.removeItem(item).then(() => {\n              this.toast.show(`${item.title} deleted !`);\n              //this.navCtrl.setRoot('HomePage');\n            });\n          }\n        },\n        {\n          text: 'Recover',\n          handler: () => {\n            item.status = \"active\";\n            this.shopping.editItem(item).then(() => {\n              console.log(item.status);\n              this.toast.show(`${item.title} re-stored !`);\n              //this.navCtrl.setRoot('ArchivePage');\n            })\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel', // will always sort to be on the bottom\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n\n    actionSheet.present(); //presenting the action sheet.\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trash/trash.ts"],"sourceRoot":""}