{"version":3,"sources":["../../src/pages/labels/labels.module.ts","../../src/pages/labels/labels.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LabelsPage } from './labels';\n\n@NgModule({\n  declarations: [\n    LabelsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LabelsPage),\n  ],\n})\nexport class LabelsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/labels/labels.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\nimport { LabelItem } from '../../models/label/label.model';\n\nimport { ShoppingListService } from '../../services/shopping-list/shopping-list-service';\n\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport interface PageInterface {\n  title: string;\n  pageName: string;\n  mdIcon: string\n}\n\n@IonicPage()\n@Component({\n  selector: 'page-labels',\n  templateUrl: 'labels.html',\n})\nexport class LabelsPage {\n\n  sectionLabels: Observable<LabelItem[]>;\n\n  label: LabelItem;\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    private shopping: ShoppingListService,\n    public alertCtrl: AlertController\n  ) {\n\n    this.sectionLabels = this.shopping\n      .getLabelsList()  // we can use getActiveItems() will return only actived Items\n      .snapshotChanges()\n      .pipe(\n        map(changes =>\n          changes.map(c => (\n            {\n              key: c.payload.key, ...c.payload.val()\n            }\n          )))\n      );\n  }\n\n\n  ionViewWillLoad() {\n    console.log('ionViewWillLoad');\n  }\n\n  editLabel(newLabel) {\n    let prompt = this.alertCtrl.create({\n      title: 'Edit Lable',\n      message: \"Modify your existing label name\",\n      inputs: [\n        {\n          name: 'title',\n          value: newLabel.value\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            this.label = {\n              key: newLabel.key,\n              title: this.capitalizeFirstLetter(data.title),\n              value: data.title\n            }\n\n            this.shopping.editLabel(this.label).then(() => {\n                console.log('Before edit Label: ' + newLabel.value);\n                console.log('After edit Label: ' + this.label.value);\n\n                var labelsData = this.shopping.getSelectedLabelItems(newLabel.value).snapshotChanges()\n                  .pipe(\n                    map(changes =>\n                      changes.map(c => (\n                        {\n                          key: c.payload.key, ...c.payload.val()\n                        }\n                      )))\n                  );\n\n                labelsData.subscribe(data => {\n                  data.forEach(info => {\n                    info.label = this.label.value;\n                    this.shopping.editItem(info);\n                  });\n                });\n              });\n            }\n          }\n      ]\n    });\n\n    prompt.present();\n  };\n\n  capitalizeFirstLetter(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n\n  deleteLabel(data) {\n    this.shopping.removeLabel(data);\n  };\n\n\n  dismissModal() {\n    this.viewCtrl.dismiss();\n  }\n\n  saveLabels() {\n    this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/labels/labels.ts"],"sourceRoot":""}